{"ast":null,"code":"import { FETCH_EMPLOYEE_REQUEST, FETCH_EMPLOYEE_SUCCESS, FETCH_EMPLOYEE_ERROR, CHANGE_EMPLOYEE } from './employeeTypes';\nconst initialState = {\n  loading: false,\n  employee: [],\n  empSur: [],\n  empAss: [],\n  value: -1,\n  err: ''\n};\n\nconst empReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_EMPLOYEE_REQUEST:\n      console.log(\"reducer 1\");\n      return { ...state,\n        loading: true\n      };\n\n    case FETCH_EMPLOYEE_SUCCESS:\n      console.log(\"reducer 2\");\n      return { ...state,\n        employee: action.payload,\n        loading: true\n      };\n\n    case FETCH_EMPLOYEE_ERROR:\n      console.log(\"reducer 3\");\n      return { ...state,\n        loading: false,\n        err: action.payload\n      };\n\n    case CHANGE_EMPLOYEE:\n      if (action.payload.indx == -1) {\n        return { ...state,\n          empSur: [],\n          empAss: []\n        };\n      }\n\n      const employee = state.employee[action.payload.indx];\n      console.log(action.payload);\n      let sur = [...action.payload.surveys];\n      let surcopy = [];\n      let assSur = [];\n      let empAss = [];\n\n      for (let i in employee.assSur) {\n        empAss.push(employee.assSur[i]);\n      }\n\n      for (let i in sur) {\n        if (empAss.includes(sur[i].sid)) {\n          assSur.push(sur[i]);\n        }\n      }\n\n      for (let i in sur) {\n        if (!empAss.includes(sur[i].sid)) {\n          surcopy.push(sur[i]);\n        }\n      }\n\n      return { ...state,\n        empSur: surcopy,\n        empAss: assSur\n      };\n\n    default:\n      console.log(\"reducer 4\");\n      return state;\n  }\n};\n\nexport default empReducer;","map":{"version":3,"sources":["/Users/himank/Desktop/PROJECTS/react_node_test/react_node_test2/job_test/src/redux/employee/employeeReducer.js"],"names":["FETCH_EMPLOYEE_REQUEST","FETCH_EMPLOYEE_SUCCESS","FETCH_EMPLOYEE_ERROR","CHANGE_EMPLOYEE","initialState","loading","employee","empSur","empAss","value","err","empReducer","state","action","type","console","log","payload","indx","sur","surveys","surcopy","assSur","i","push","includes","sid"],"mappings":"AAAA,SAAQA,sBAAR,EACIC,sBADJ,EAEIC,oBAFJ,EAGIC,eAHJ,QAIK,iBAJL;AAMA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,OAAO,EAAE,KADQ;AAEjBC,EAAAA,QAAQ,EAAC,EAFQ;AAGjBC,EAAAA,MAAM,EAAC,EAHU;AAIjBC,EAAAA,MAAM,EAAC,EAJU;AAKjBC,EAAAA,KAAK,EAAE,CAAC,CALS;AAMjBC,EAAAA,GAAG,EAAC;AANa,CAArB;;AASA,MAAMC,UAAU,GAAG,CAACC,KAAK,GAAGR,YAAT,EAAuBS,MAAvB,KAAiC;AAEhD,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKd,sBAAL;AACIe,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,aAAO,EACH,GAAGJ,KADA;AAEHP,QAAAA,OAAO,EAAE;AAFN,OAAP;;AAKJ,SAAKJ,sBAAL;AACIc,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,aAAO,EACH,GAAGJ,KADA;AAEHN,QAAAA,QAAQ,EAAEO,MAAM,CAACI,OAFd;AAGHZ,QAAAA,OAAO,EAAE;AAHN,OAAP;;AAKJ,SAAKH,oBAAL;AACIa,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,aAAO,EACH,GAAGJ,KADA;AAEHP,QAAAA,OAAO,EAAE,KAFN;AAGHK,QAAAA,GAAG,EAAEG,MAAM,CAACI;AAHT,OAAP;;AAKJ,SAAKd,eAAL;AAEI,UAAGU,MAAM,CAACI,OAAP,CAAeC,IAAf,IAAuB,CAAC,CAA3B,EAA6B;AACzB,eAAM,EACF,GAAGN,KADD;AAEFL,UAAAA,MAAM,EAAC,EAFL;AAGFC,UAAAA,MAAM,EAAC;AAHL,SAAN;AAKH;;AACD,YAAMF,QAAQ,GAAGM,KAAK,CAACN,QAAN,CAAeO,MAAM,CAACI,OAAP,CAAeC,IAA9B,CAAjB;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACI,OAAnB;AACA,UAAIE,GAAG,GAAG,CAAC,GAAGN,MAAM,CAACI,OAAP,CAAeG,OAAnB,CAAV;AACA,UAAIC,OAAO,GAAG,EAAd;AACA,UAAIC,MAAM,GAAC,EAAX;AACA,UAAId,MAAM,GAAG,EAAb;;AAEA,WAAK,IAAIe,CAAT,IAAcjB,QAAQ,CAACgB,MAAvB,EAA8B;AAC1Bd,QAAAA,MAAM,CAACgB,IAAP,CAAYlB,QAAQ,CAACgB,MAAT,CAAgBC,CAAhB,CAAZ;AACH;;AAED,WAAK,IAAIA,CAAT,IAAcJ,GAAd,EAAkB;AACd,YAAIX,MAAM,CAACiB,QAAP,CAAgBN,GAAG,CAACI,CAAD,CAAH,CAAOG,GAAvB,CAAJ,EAAgC;AAC5BJ,UAAAA,MAAM,CAACE,IAAP,CAAYL,GAAG,CAACI,CAAD,CAAf;AACH;AACJ;;AAED,WAAK,IAAIA,CAAT,IAAcJ,GAAd,EAAkB;AACd,YAAI,CAACX,MAAM,CAACiB,QAAP,CAAgBN,GAAG,CAACI,CAAD,CAAH,CAAOG,GAAvB,CAAL,EAAiC;AAC7BL,UAAAA,OAAO,CAACG,IAAR,CAAaL,GAAG,CAACI,CAAD,CAAhB;AACH;AACJ;;AAED,aAAO,EACH,GAAGX,KADA;AAEHL,QAAAA,MAAM,EAACc,OAFJ;AAGHb,QAAAA,MAAM,EAACc;AAHJ,OAAP;;AAMJ;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACI,aAAOJ,KAAP;AA9DR;AAgEH,CAlED;;AAoEA,eAAeD,UAAf","sourcesContent":["import {FETCH_EMPLOYEE_REQUEST,\n    FETCH_EMPLOYEE_SUCCESS,\n    FETCH_EMPLOYEE_ERROR,\n    CHANGE_EMPLOYEE} \nfrom './employeeTypes';\n\nconst initialState = {\n    loading: false,\n    employee:[],\n    empSur:[],\n    empAss:[],\n    value: -1,\n    err:''\n}\n\nconst empReducer = (state = initialState, action) =>{\n\n    switch(action.type){\n        case FETCH_EMPLOYEE_REQUEST:\n            console.log(\"reducer 1\")\n            return {\n                ...state,\n                loading: true\n            }\n            \n        case FETCH_EMPLOYEE_SUCCESS:\n            console.log(\"reducer 2\")\n            return {\n                ...state,\n                employee: action.payload,\n                loading: true\n            }\n        case FETCH_EMPLOYEE_ERROR:\n            console.log(\"reducer 3\")\n            return {\n                ...state,\n                loading: false,\n                err: action.payload\n            }\n        case CHANGE_EMPLOYEE:\n\n            if(action.payload.indx == -1){\n                return{ \n                    ...state,\n                    empSur:[],\n                    empAss:[]\n                }\n            }\n            const employee = state.employee[action.payload.indx]\n            console.log(action.payload)\n            let sur = [...action.payload.surveys]\n            let surcopy = []\n            let assSur=[]\n            let empAss = [] \n\n            for (let i in employee.assSur){\n                empAss.push(employee.assSur[i])\n            }\n\n            for (let i in sur){\n                if (empAss.includes(sur[i].sid)){\n                    assSur.push(sur[i])\n                }\n            }\n\n            for (let i in sur){\n                if (!empAss.includes(sur[i].sid)){\n                    surcopy.push(sur[i])\n                }\n            }\n\n            return { \n                ...state,\n                empSur:surcopy,\n                empAss:assSur\n            }\n\n        default: \n        console.log(\"reducer 4\")\n            return state\n    }\n}\n\nexport default empReducer;"]},"metadata":{},"sourceType":"module"}